<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1024">
    <link rel="icon" class="js-site-favicon" type="image/png" href="https://petals.ml/logo.svg">
    <title>Petals Health Monitor</title>
    <link href="static/health.css" rel="stylesheet">
  </head>
  <body>

<header>
  <div class="logo">
    <a target="_blank" href="https://petals.ml"><img src="https://petals.ml/logo.svg" height="50" class="rot-image"></a>
  </div>
  <h1>Petals <span style="font-size: 13pt; color: #aaa;">Health Monitor</span></h1>
</header>

<main>

<section class="loading">
  <p>Fetching the latest data, just for you...</p>
  <p class="loading-animation">ðŸŒ¸</p>
</section>

<section class="error" style="display: none;">
  <p>Something is wrong with our server or your network connection.</p>
  <p>If it does not resolve in a few minutes, please report this to our <a target="_blank" href="https://discord.gg/D9MwApKgWa">Discord</a>.</p>
</section>

</main>

<script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
<script>
function animateLoading() {
  $('.loading-animation').text($('.loading-animation').text() + " ðŸŒ¸");
}

setInterval(animateLoading, 1000);

$.get("/health", null, null, "html")
  .done(data => {
    $('main').html(data);
  })
  .fail(() => {
    $(".loading").hide();
    $(".error").show();
  });
</script>

  </body>
</html>
